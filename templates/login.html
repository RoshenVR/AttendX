{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="col-md-6 col-lg-5">
        <div class="card shadow-lg border-0 bg-dark-subtle">
            <div class="card-body p-5">
                <div class="text-center mb-4">
                    <!-- <img src="{{ url_for('static', filename='logo.png') }}" alt="AttendX Logo" height="120"
                        class="mb-3 logo-animate"> -->
                    <h1 class="fw-bold display-5 text-gradient">AttendX</h1>
                    <p class="text-muted">Next Gen Attendance System</p>
                </div>

                <div class="d-flex justify-content-center mb-4 bg-dark p-1 rounded-pill border border-secondary">
                    <button onclick="setRole('student')" id="btn-student"
                        class="btn btn-primary active w-33 rounded-pill transition-all text-sm">Student</button>
                    <button onclick="setRole('teacher')" id="btn-teacher"
                        class="btn btn-link text-muted w-33 rounded-pill transition-all text-decoration-none text-sm">Teacher</button>
                    <button onclick="setRole('admin')" id="btn-admin"
                        class="btn btn-link text-muted w-33 rounded-pill transition-all text-decoration-none text-sm">Admin</button>
                </div>

                <form method="post" id="login-form">
                    <input type="hidden" name="role" id="role-input" value="student">

                    <div class="mb-3">
                        <label for="username" class="form-label text-muted">ID / Username</label>
                        <div class="input-group">
                            <span class="input-group-text bg-dark border-secondary text-secondary"><i
                                    class="fas fa-user"></i></span>
                            <input type="text" name="username" id="username"
                                class="form-control bg-dark text-light border-secondary" placeholder="Enter your ID"
                                required>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="password" class="form-label text-muted">Password</label>
                        <div class="input-group">
                            <span class="input-group-text bg-dark border-secondary text-secondary"><i
                                    class="fas fa-lock"></i></span>
                            <input type="password" name="password" id="password"
                                class="form-control bg-dark text-light border-secondary" placeholder="Enter password"
                                required>
                        </div>
                    </div>

                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary btn-lg shadow-lg">
                            Login <i class="fas fa-arrow-right ms-2"></i>
                        </button>
                    </div>
                </form>

                <p class="text-center mt-4 mb-0 text-muted small">
                    Don't have an account? <a href="{{ url_for('register') }}"
                        class="text-primary fw-bold text-decoration-none">Register here</a>
                </p>
                <div class="text-center mt-2">
                    <small class="text-muted" style="font-size: 0.7rem;">Default Admin: admin / admin123</small>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function setRole(role) {
        document.getElementById('role-input').value = role;

        const btns = {
            'student': document.getElementById('btn-student'),
            'teacher': document.getElementById('btn-teacher'),
            'admin': document.getElementById('btn-admin')
        };

        // Reset all
        for (const key in btns) {
            btns[key].className = 'btn btn-link text-muted w-33 rounded-pill transition-all text-decoration-none text-sm';
        }

        // Set active
        btns[role].className = 'btn btn-primary active w-33 rounded-pill transition-all text-sm';
    }
</script>
{% endblock %}